<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Uzbūvē pats savu daļiņu fizikas detektoru</title>
    <script src="https://cdn.jsdelivr.net/npm/p5@1.9.0/lib/p5.min.js"></script>
    <script src="build_detector/sketch.js"></script>
    <style>
      body { 
        margin: 0; 
        padding: 10px; 
        font-family: Arial, sans-serif;
        background-color: #f5f5f5;
        -webkit-text-size-adjust: none; /* Disable iOS text size adjustment */
        text-size-adjust: none; /* Disable text size adjustment */
      }
      
      .container {
        display: flex;
        gap: 20px;
        align-items: flex-start;
        justify-content: center;
        min-height: 100vh;
      }
      
      .instructions {
        background: white;
        padding: 25px;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        max-width: 400px; 
        min-height: 200px;
      }
      
      .rules {
        background: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        max-width: 400px;
      }
      
      .instructions h2 {
        margin-top: 0;
        color: #333;
        font-size: 1.2em;
        -webkit-text-size-adjust: none;
        text-size-adjust: none;
      }
      
      .instructions h3 {
        margin-bottom: 10px;
        color: #555;
        font-size: 1em;
        -webkit-text-size-adjust: none;
        text-size-adjust: none;
      }
      
      .rules h3 {
        margin-top: 0;
        margin-bottom: 10px;
        color: #555;
        font-size: 1em;
        -webkit-text-size-adjust: none;
        text-size-adjust: none;
      }
      
      .instructions p {
        margin-top: 5px;
        line-height: 1.4;
        color: #666;
        font-size: 0.9em;
        -webkit-text-size-adjust: none;
        text-size-adjust: none;
      }
      
      .rules p {
        margin-top: 5px;
        line-height: 1.4;
        color: #666;
        font-size: 0.9em;
        -webkit-text-size-adjust: none;
        text-size-adjust: none;
      }
      
      .rules ul {
        margin: 10px 0;
        padding-left: 20px;
        color: #666;
        font-size: 0.9em;
        -webkit-text-size-adjust: none;
        text-size-adjust: none;
      }
      
      .rules li {
        margin-bottom: 5px;
        line-height: 1.4;
        -webkit-text-size-adjust: none;
        text-size-adjust: none;
      }
      
      .canvas-container {
        flex-shrink: 0;
      }
      
      canvas { 
        border: 2px solid #444;
        border-radius: 4px;
      }
      
      /* Portrait mode: Stack vertically */
      @media (orientation: portrait) or (max-width: 768px) {
        .container {
          flex-direction: column;
          align-items: center;
        }
        
        .instructions {
          max-width: 95%; /* Nearly full screen width */
          width: 95%; /* Force consistent width */
          order: -1; /* Instructions go on top */
        }
        
        .canvas-container {
          order: 0; /* Canvas in the middle */
        }
        
        .rules {
          max-width: 95%; /* Nearly full screen width */
          width: 95%; /* Force consistent width - same as instructions */
          order: 1; /* Rules go at the bottom */
        }
      }
      
      /* Landscape mode: Side by side */
      @media (orientation: landscape) and (min-width: 769px) {
        .container {
          flex-direction: row;
        }
        
        .instructions {
          order: 1; /* Instructions go on left */
          width: 380px; /* Increased from 280px to match new max-width */
        }
        
        .rules {
          order: 1; /* Rules also go on left */
          width: 380px;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="instructions">
        <h2>Uzbūvē pats savu daļiņu fizikas detektoru</h2>
        <h3>Instrukcijas:</h3>
        <p>Lai uzbūvētu savu detektoru, velc detektora slāņus (lielie "x" simboli) iekšā riņķos.
            <br> Katrs detektora slānis ir atbildīgs par dažādu daļiņu veidu noteikšanu.
            <br> Nospied SPACE vai "Šaut daļiņu", lai simulētu daļiņu sadursmi!
            <br> Nospied C vai "Notīrīt trekus", lai notīrītu visus daļiņu trekus.
            <br> Nospied R vai "Attiestatīt", lai atiestatītu detektora slāņus. </p>
      </div>
      
      <div class="rules">
        <h3>Spēles mērķis:</h3>
        <ul>
          <li><strong></strong> Uzbūvē detektoru, kurš var atšķirt un identificēt katru no dažādajiem daļiņu veidiem!</li>
        </ul>
        <h3> Vārdnīca:</h3>
        <ul>
          <li><strong>ECAL (Elektromagnētiskais kalorimetrs):</strong> Detektē un izmēra fotonu un elektronu enerģiju, tos absorbējot.</li>
          <li><strong>HCAL (Hadroniskais kalorimetrs):</strong> Detektē un izmēra hadronu (piemēram, protonu un neitronu) enerģiju, tos absorbējot.</li>
          <li><strong>Magnēts:</strong> Izveido magnētisko lauku, kas liek lādētu daļiņu trekiem izliekties, palīdzot noteikt to lādiņu (un impulsu).</li>
          <li><strong>Mionu kambari:</strong> Detektē miona trajektorijas, kas var izkļūt caur citiem detektora slāņiem.</li>
          <li><strong>Trakeris:</strong> Fiksē lādēto daļiņu trajektoriju, kad tās caur to pārvietojas.</li>
        </ul>
        <h3> Daļiņu veidi:</h3>
        <ul>
          <li><strong>Fotoni</strong> - Ir vieglākās daļiņas un tiek absorbētas ECAL, HCAL un Magnēta slāņos. Tiem nav lādiņa, tāpēc tās neizliecas magnētiskajā laukā un nav redzamas trakerī.</li>
          <li><strong>Elektroni</strong> - Līdzīgi kā fotoni, tiek absorbēti ECAL, HCAL, Magnetā un Mionu kambaros. Tomēr tie ir lādēti un izliecas magnētiskajā laukā un pamanāmi trakerī.</li>
          <li><strong>Hadroni</strong> - Smagākas daļiņas, kas tiek absorbētas HCAL, Magnetā un Mionu kambaros.</li>
          <li><strong>Mioni</strong> - Tiek cauri visiem slāņiem, bet atstāj signālu mionu kambaros.</li>
        </ul>
        <h3> Uzzināt vairāk?</h3>
        <ul>
          <li><strong><a href="https://lv.wikipedia.org/wiki/Kompaktais_mionu_soleno%C4%ABds" target="_blank">Kompaktais miona solenoīds (Wikipedia)</a></strong></li>
          <li><strong><a href="https://www.rtu.lv/lv/aef/augstas-energijas-dalinu-fizika" target="_blank">Daļiņu fizika Latvijā</a></strong></li>
        </ul>
      </div>
      
      <div class="canvas-container" id="canvas-container">
        <!-- Canvas will be inserted here by p5.js -->
      </div>
    </div>
  </body>
</html>